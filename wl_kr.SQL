    --@ D:\sql\WLADZE_KRAKOWA_1_A.SQL

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`TOM_1`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TOM_1` (
  `TOM_1_ID` INT NOT NULL,
  PRIMARY KEY (`TOM_1_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TOM_2`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TOM_2` (
  `TOM_2_ID` INT NOT NULL,
  PRIMARY KEY (`TOM_2_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TOM_3`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TOM_3` (
  `TOM_3_ID` INT NOT NULL,
  PRIMARY KEY (`TOM_3_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TOM_4`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TOM_4` (
  `TOM_4_ID` INT NOT NULL,
  PRIMARY KEY (`TOM_4_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`OSOBA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`OSOBA` (
  `OSOBA_ID` INT(9) NOT NULL,
  `OSO_PE≈ÅNA_NAZWA` VARCHAR(50) NOT NULL,
  `OSO_IMIE` VARCHAR(15) NULL,
  `OSO_NAZWISKO` VARCHAR(35) NULL,
  `OSO_PRZYDOMEK_SAMOISTNY` VARCHAR(25) NULL,
  `OSO_IMIE_JAKO_PRZYDOMEK` VARCHAR(15) NULL,
  `OSO_IMIE_JAKO_NAZWISKO` VARCHAR(35) NULL,
  `OSO_PRZYDOMEK_2` VARCHAR(15) NULL,
  `OSO_ZNAK_?` VARCHAR(1) NULL,
  `OSO_ZNAK_INNY` VARCHAR(1) NULL,
  `OSO_CZLON_NAZYWANIA_3` VARCHAR(20) NULL,
  `OSO_CZLON_NAZYWANIA_4` VARCHAR(20) NULL,
  `OSO_CZLON_NAZYWANIA_5` VARCHAR(20) NULL,
  `OSO_NAZYWANIE_WIELOCZLONOWE` VARCHAR(60) NULL,
  `OSO_FUNKCJA_GLOWNA_NAZWA` VARCHAR(45) NULL,
  `OSO_FUNKCJA_DODATKOWA_NAZWA_1` VARCHAR(25) NULL,
  `OSO_FUNKCJA_DODATKOWA_NAZWA_2` VARCHAR(25) NULL,
  `TOM_1_TOM_1_ID` INT NOT NULL,
  `TOM_2_TOM_2_ID` INT NOT NULL,
  `TOM_3_TOM_3_ID` INT NOT NULL,
  `TOM_4_TOM_4_ID` INT NOT NULL,
  PRIMARY KEY (`OSOBA_ID`, `TOM_1_TOM_1_ID`, `TOM_2_TOM_2_ID`, `TOM_3_TOM_3_ID`, `TOM_4_TOM_4_ID`),
  INDEX `fk_OSOBA_TOM_11_idx` (`TOM_1_TOM_1_ID` ASC) VISIBLE,
  INDEX `fk_OSOBA_TOM_21_idx` (`TOM_2_TOM_2_ID` ASC) VISIBLE,
  INDEX `fk_OSOBA_TOM_31_idx` (`TOM_3_TOM_3_ID` ASC) VISIBLE,
  INDEX `fk_OSOBA_TOM_41_idx` (`TOM_4_TOM_4_ID` ASC) VISIBLE,
  CONSTRAINT `fk_OSOBA_TOM_11`
    FOREIGN KEY (`TOM_1_TOM_1_ID`)
    REFERENCES `mydb`.`TOM_1` (`TOM_1_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OSOBA_TOM_21`
    FOREIGN KEY (`TOM_2_TOM_2_ID`)
    REFERENCES `mydb`.`TOM_2` (`TOM_2_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OSOBA_TOM_31`
    FOREIGN KEY (`TOM_3_TOM_3_ID`)
    REFERENCES `mydb`.`TOM_3` (`TOM_3_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OSOBA_TOM_41`
    FOREIGN KEY (`TOM_4_TOM_4_ID`)
    REFERENCES `mydb`.`TOM_4` (`TOM_4_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`LATA_SPRAWOWANIA_FUNKCJI_GLOWNEJ`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`LATA_SPRAWOWANIA_FUNKCJI_GLOWNEJ` (
  `LAT_ROK_ID` INT NOT NULL,
  `OSOBA_OSOBA_ID` INT(9) NOT NULL,
  PRIMARY KEY (`LAT_ROK_ID`, `OSOBA_OSOBA_ID`),
  INDEX `fk_LATA_SPRAWOWANIA_FUNKCJI_GLOWNEJ_OSOBA_idx` (`OSOBA_OSOBA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_LATA_SPRAWOWANIA_FUNKCJI_GLOWNEJ_OSOBA`
    FOREIGN KEY (`OSOBA_OSOBA_ID`)
    REFERENCES `mydb`.`OSOBA` (`OSOBA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DZIELNICA_HISTORYCZNA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DZIELNICA_HISTORYCZNA` (
  `DZI_DZIELNICA_HISTORYCZNA_ID` INT NOT NULL,
  `DZI_DZIELNICAHISTORYCZNA_NAZWA` VARCHAR(45) NULL,
  `OSOBA_OSOBA_ID` INT(9) NOT NULL,
  PRIMARY KEY (`DZI_DZIELNICA_HISTORYCZNA_ID`, `OSOBA_OSOBA_ID`),
  INDEX `fk_DZIELNICA_HISTORYCZNA_OSOBA1_idx` (`OSOBA_OSOBA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DZIELNICA_HISTORYCZNA_OSOBA1`
    FOREIGN KEY (`OSOBA_OSOBA_ID`)
    REFERENCES `mydb`.`OSOBA` (`OSOBA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DZIELNICA_AKTUALNA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DZIELNICA_AKTUALNA` (
  `AKT_DZIELNICA_AKTUALNA_ID` INT NOT NULL,
  `AKT_DZIELNICA_AKTUALNA_NAZWA` VARCHAR(45) NULL,
  `OSOBA_OSOBA_ID` INT(9) NOT NULL,
  PRIMARY KEY (`AKT_DZIELNICA_AKTUALNA_ID`, `OSOBA_OSOBA_ID`),
  INDEX `fk_DZIELNICA_AKTUALNA_OSOBA1_idx` (`OSOBA_OSOBA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DZIELNICA_AKTUALNA_OSOBA1`
    FOREIGN KEY (`OSOBA_OSOBA_ID`)
    REFERENCES `mydb`.`OSOBA` (`OSOBA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`NR_STRONY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`NR_STRONY` (
  `NR_STRONY_ID` INT NOT NULL,
  `TOM_1_TOM_1_ID` INT NOT NULL,
  `TOM_2_TOM_2_ID` INT NOT NULL,
  `TOM_3_TOM_3_ID` INT NOT NULL,
  `TOM_4_TOM_4_ID` INT NOT NULL,
  PRIMARY KEY (`NR_STRONY_ID`, `TOM_1_TOM_1_ID`, `TOM_2_TOM_2_ID`, `TOM_3_TOM_3_ID`, `TOM_4_TOM_4_ID`),
  INDEX `fk_NR_STRONY_TOM_11_idx` (`TOM_1_TOM_1_ID` ASC) VISIBLE,
  INDEX `fk_NR_STRONY_TOM_21_idx` (`TOM_2_TOM_2_ID` ASC) VISIBLE,
  INDEX `fk_NR_STRONY_TOM_31_idx` (`TOM_3_TOM_3_ID` ASC) VISIBLE,
  INDEX `fk_NR_STRONY_TOM_41_idx` (`TOM_4_TOM_4_ID` ASC) VISIBLE,
  CONSTRAINT `fk_NR_STRONY_TOM_11`
    FOREIGN KEY (`TOM_1_TOM_1_ID`)
    REFERENCES `mydb`.`TOM_1` (`TOM_1_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NR_STRONY_TOM_21`
    FOREIGN KEY (`TOM_2_TOM_2_ID`)
    REFERENCES `mydb`.`TOM_2` (`TOM_2_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NR_STRONY_TOM_31`
    FOREIGN KEY (`TOM_3_TOM_3_ID`)
    REFERENCES `mydb`.`TOM_3` (`TOM_3_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NR_STRONY_TOM_41`
    FOREIGN KEY (`TOM_4_TOM_4_ID`)
    REFERENCES `mydb`.`TOM_4` (`TOM_4_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
